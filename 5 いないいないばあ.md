# 5 いないいないばあ
JavaScriptを用いて、「いないいないばあ」と出たり隠れたりするメニューやタブなどの「ステート」について。フォームや各種メニューのタイプ別にコードを交えて解説します。

---

>いないいないばあ（名詞）顔や体を隠し「いないいないばあ！」と言いながら再び見せることを繰り返すことで乳幼児を喜ばせる遊び<br>
̶ Merriam-Websterの定義（脚注1）

JavaScriptで動くWebインターフェイスにおいて最もよく見かけるインタラクションのスタイルは、何かを表示したり、隠したりする動作に基づいています。まさに、いないいないばあですね。個々のデザインや動き、表示のされかた、その他もろもろの細かい差異を除けば、以下のどれかに当てはまります。

- 何かが現れる。
- 何かが複数現れる。
- 何かが現れると同時に何かが見えなくなる。

いくつか例を挙げてみましょう。

- サイトのナビゲーションが現れる「いないいないばあ！」
- ドロップダウンサブメニューが現れる「いないいないばあ！」
- 用語の定義を展開する「いないいないばあ！」
- タブインターフェイスのタブを切り替える「いないいないばあ！」
- アコーディオンメニューの項目を選択する「いないいないばあ！」
- フォーム処理の次のステップへ「いないいないばあ！」
- ツールチップがフェードインする「いないいないばあ！」
- 警告メッセージが現れる「いないいないばあ！」
- ダイアログが開く「いないいないばあ！」

JavaScriptがもたらすいわゆる「リッチインタラクション」の多くが子どもを喜ばせる遊びに似ているというのは、悪いことではありません。何よりも、インターフェイスデザイナーとしてうぬぼれてはいけないという気持ちにさせてくれます。

さらに重要なのは、このメカニズムが共通しているおかげで、再利用可能でアクセシブルなコンポーネントのセットが作りやすくなっているということです。

帽子を使った手品は、その素材がシルクであってもフェルトであっても、帽子の手品であることに変わりはありません。アクセシブルなインターフェイスデザインでも同じことが言えます。コンテンツがスライドしようが、フェードしようが、大きくなろうが、重要なことはコンテンツが（白いウサギのように）はっきりと観客に見えるかどうかです。

![](5_01.png)

WAIのARIA仕様では、典型的なインターフェイスコンポーネントをシンプルに保つことが重要であると認めながら、基本的なロール、ステート、プロパティ、関係する要素とのリレーションシップを定義する属性も提供しています。見かけ上の動作と実際の動作とが食い違うことになると思われるかもしれませんが、論理的な使い方をすれば、そのようなことは起こりません。

実際、これから見ていくように、ARIA属性をCSSおよびjQueryセレクタとして扱うことで、より再利用しやすくDRY（Don’t Repeat Yourself： 重複の回避（脚注2））なコードを書くことができ、手間を省きながらアクセシビリティを実現することが期待できるでしょう。

脚注1：http://www.merriam-webster.com/dictionary/peekaboo
